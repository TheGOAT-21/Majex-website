<div class="flex h-screen bg-gray-50 overflow-hidden">
  <!-- Sidebar -->
  <app-sidebar
    [activeTab]="activeTab"
    (tabChange)="onTabChange($event)">
  </app-sidebar>

  <!-- Main area -->
  <div class="flex-1 flex flex-col overflow-hidden">
    <!-- Navbar -->
    <app-navbar
      [currentUser]="currentUser"
      [activeTab]="activeTab"
      (logoutClick)="logout()">
    </app-navbar>

    <!-- Content -->
    <main class="flex-1 overflow-y-auto p-8">

      <!-- Feedback -->
      <div *ngIf="successMessage"
        class="mb-6 px-4 py-3 rounded-lg border border-green-200 bg-green-50 text-green-700 text-sm">
        {{ successMessage }}
      </div>
      <div *ngIf="errorMessage"
        class="mb-6 px-4 py-3 rounded-lg border border-red-200 bg-red-50 text-red-600 text-sm">
        {{ errorMessage }}
      </div>

      <!-- Dashboard -->
      <app-dashboard
        *ngIf="activeTab === 'dashboard'"
        [events]="events"
        [contacts]="contacts"
        [contactStats]="contactStats"
        (tabChange)="onTabChange($event)">
      </app-dashboard>

      <!-- Events -->
      <app-events
        *ngIf="activeTab === 'events'"
        [events]="events"
        [loadingEvents]="loadingEvents"
        [showEventModal]="showEventModal"
        [editingEvent]="editingEvent"
        [isNewEvent]="isNewEvent"
        (openNew)="openNewEventModal()"
        (openEdit)="openEditEventModal($event)"
        (closeModal)="closeEventModal()"
        (save)="saveEvent()"
        (delete)="deleteEvent($event)"
        (publish)="publishEvent($event)">
      </app-events>

      <!-- Contacts -->
      <app-contacts
        *ngIf="activeTab === 'contacts'"
        [contacts]="contacts"
        [contactStats]="contactStats"
        [loadingContacts]="loadingContacts"
        [selectedContact]="selectedContact"
        [showContactModal]="showContactModal"
        (viewContact)="viewContact($event)"
        (closeModal)="closeContactModal()"
        (updateStatus)="updateContactStatus($event)"
        (deleteContact)="deleteContact($event)">
      </app-contacts>

      <!-- MÃ©dias (nouveau) -->
      <app-media
        *ngIf="activeTab === 'media'">
      </app-media>

      <!-- Stats -->
      <app-stats
        *ngIf="activeTab === 'stats'"
        [events]="events"
        [contacts]="contacts"
        [contactStats]="contactStats">
      </app-stats>

      <!-- Settings -->
      <app-settings
        *ngIf="activeTab === 'settings'"
        [currentUser]="currentUser"
        (logoutClick)="logout()">
      </app-settings>

    </main>
  </div>
</div>